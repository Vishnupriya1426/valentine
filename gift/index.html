<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Beyond Gravity</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
            background: #0a0a1a;
            color: #fff;
        }

        /* Galaxy Background */
        .galaxy-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #1a0033 0%, #0a0a1a 50%, #000 100%);
            z-index: -2;
            overflow: hidden;
        }

        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            opacity: 0.3;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        /* Floating Hearts - Anti-gravity */
        .floating-hearts {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }

        .heart {
            position: absolute;
            font-size: 2rem;
            animation: float-up 8s infinite ease-in;
            opacity: 0.6;
            filter: drop-shadow(0 0 10px rgba(255, 20, 147, 0.8));
        }

        .heart.heart-2 {
            animation-duration: 10s;
            opacity: 0.4;
        }

        .heart.heart-3 {
            animation-duration: 12s;
            opacity: 0.5;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Main Container */
        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            animation: fadeIn 2s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .hero-content {
            max-width: 800px;
        }

        .typing-text {
            font-size: 2.5rem;
            font-weight: 300;
            line-height: 1.6;
            color: #ff69b4;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.6);
            min-height: 200px;
            margin: 50px 0;
        }

        .typing-cursor {
            animation: blink 0.7s infinite;
            color: #ff1493;
        }

        @keyframes blink {
            0%, 49% {
                opacity: 1;
            }
            50%, 100% {
                opacity: 0;
            }
        }

        /* Story Section */
        .story-section {
            min-height: 100vh;
            padding: 100px 20px;
            background: linear-gradient(135deg, rgba(26, 0, 51, 0.9) 0%, rgba(75, 0, 130, 0.3) 100%);
            scroll-snap-align: start;
        }

        .story-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .story-item {
            background: rgba(20, 0, 40, 0.6);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 105, 180, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            text-align: center;
            opacity: 0;
            animation: slideInStory 1s ease-out forwards;
            font-size: 1.3rem;
            line-height: 1.8;
            color: #ffffff;
            font-weight: 300;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px rgba(138, 43, 226, 0.2);
        }

        .story-item:nth-child(1) { animation-delay: 0.2s; }
        .story-item:nth-child(2) { animation-delay: 0.5s; }
        .story-item:nth-child(3) { animation-delay: 0.8s; }
        .story-item:nth-child(4) { animation-delay: 1.1s; }

        @keyframes slideInStory {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff69b4, transparent);
            margin: 60px 0;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }

        .emoji-float {
            display: inline-block;
            font-size: 2rem;
            animation: emojiFloat 6s infinite ease-in;
            margin: 0 5px;
        }

        .emoji-1 { animation-delay: 0s; }
        .emoji-2 { animation-delay: 1s; }
        .emoji-3 { animation-delay: 2s; }
        .emoji-4 { animation-delay: 3s; }

        @keyframes emojiFloat {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(50px);
                opacity: 0;
            }
        }

        /* Proposal Section */
        .proposal {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            background: linear-gradient(45deg, rgba(138, 43, 226, 0.2) 0%, rgba(75, 0, 130, 0.2) 100%);
            scroll-snap-align: center;
        }

        .proposal-box {
            background: rgba(255, 255, 255, 0.08);
            -webkit-backdrop-filter: blur(20px);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 105, 180, 0.5);
            border-radius: 30px;
            padding: 60px 40px;
            max-width: 600px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(138, 43, 226, 0.3), inset 0 0 20px rgba(255, 105, 180, 0.1);
            animation: pulse-border 2s infinite;
        }

        @keyframes pulse-border {
            0%, 100% {
                box-shadow: 0 8px 32px rgba(138, 43, 226, 0.3), inset 0 0 20px rgba(255, 105, 180, 0.1);
            }
            50% {
                box-shadow: 0 8px 32px rgba(138, 43, 226, 0.6), inset 0 0 30px rgba(255, 105, 180, 0.2);
            }
        }

        .proposal-question {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 50px;
            color: #ff69b4;
            text-shadow: 0 0 30px rgba(255, 105, 180, 0.8);
            letter-spacing: 1px;
        }

        .button-container {
            display: flex;
            gap: 40px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 18px 50px;
            font-size: 1.3rem;
            border: 2px solid;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .btn-yes {
            background: linear-gradient(135deg, #ff1493, #ff69b4);
            color: #000000;
            border-color: #ff69b4;
            box-shadow: 0 0 30px rgba(255, 20, 147, 0.8);
            animation: pulse-btn 1.5s infinite;
        }

        .btn-yes:hover {
            transform: scale(1.1);
            box-shadow: 0 0 50px rgba(255, 20, 147, 1);
        }

        .btn-yes:active {
            transform: scale(0.95);
        }

        @keyframes pulse-btn {
            0%, 100% {
                box-shadow: 0 0 30px rgba(255, 20, 147, 0.8);
            }
            50% {
                box-shadow: 0 0 60px rgba(255, 20, 147, 1);
            }
        }

        .btn-no {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border-color: #ff69b4;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8);
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }

        .btn-no:hover {
            transform: translateX(150px) scale(1.05);
            background: rgba(255, 255, 255, 0.05);
        }

        /* Final Message */
        .final-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            font-weight: 300;
            text-align: center;
            color: #ff1493;
            text-shadow: 0 0 40px rgba(255, 20, 147, 1);
            opacity: 0;
            pointer-events: none;
            z-index: 1000;
            animation: showFinalMessage 1.5s ease-out forwards;
        }

        @keyframes showFinalMessage {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* Confetti */
        .confetti {
            position: fixed;
            z-index: 999;
            pointer-events: none;
        }

        /* Heart Explosion */
        .heart-explosion {
            position: fixed;
            font-size: 3rem;
            animation: explodeHeart 2s ease-out forwards;
            pointer-events: none;
            z-index: 998;
        }

        @keyframes explodeHeart {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0);
            }
        }

        /* Animated GIFs */
        .animated-gif {
            position: fixed;
            pointer-events: none;
            z-index: 999;
            font-size: 60px;
            animation: gifAnimation 3s ease-out forwards;
        }

        @keyframes gifAnimation {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-200px) scale(0.5) rotate(360deg);
            }
        }

        .spinning-gif {
            animation: spinGif 3s ease-out forwards;
        }

        @keyframes spinGif {
            0% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: scale(0) rotate(720deg);
            }
        }

        .bouncing-gif {
            animation: bounceGif 3s ease-out forwards;
        }

        @keyframes bounceGif {
            0% {
                opacity: 1;
                transform: translateY(0) scaleY(1);
            }
            25% {
                transform: translateY(-50px) scaleY(0.8);
            }
            50% {
                transform: translateY(0) scaleY(1);
            }
            75% {
                transform: translateY(-25px) scaleY(0.9);
            }
            100% {
                opacity: 0;
                transform: translateY(-300px) scaleY(1);
            }
        }

        .floating-gif {
            animation: floatGif 3s ease-out forwards;
        }

        @keyframes floatGif {
            0% {
                opacity: 1;
                transform: translateX(0) translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateX(150px) translateY(-300px);
            }
        }

        /* Screen Glow */
        .screen-glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 20, 147, 0.3) 0%, transparent 70%);
            opacity: 0;
            pointer-events: none;
            z-index: 997;
            animation: screenGlow 1s ease-out forwards;
        }

        @keyframes screenGlow {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            display: none;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 105, 180, 0.3);
            border-top: 4px solid #ff69b4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            text-align: center;
            margin-top: 20px;
            color: #ff69b4;
            font-size: 1.2rem;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .typing-text {
                font-size: 1.5rem;
            }

            .story-item {
                padding: 25px;
                font-size: 1.1rem;
            }

            .proposal-question {
                font-size: 1.8rem;
            }

            .btn {
                padding: 15px 35px;
                font-size: 1rem;
            }

            .button-container {
                gap: 20px;
            }

            .final-message {
                font-size: 2rem;
            }

            .heart {
                font-size: 1.5rem;
            }
        }

        .proposal-question span {
            display: block;
            margin-top: 20px;
            font-size: 2rem;
        }

        /* Music Player */
        #musicPlayerControl {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 105, 180, 0.5);
            border-radius: 15px;
            padding: 15px 20px;
        }

        #musicToggle {
            background: linear-gradient(135deg, #ff1493, #ff69b4);
            color: #000000;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        #musicToggle:hover {
            transform: scale(1.15);
        }

        #musicPlayerControl span {
            color: #ff69b4;
            font-size: 0.9rem;
            white-space: nowrap;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }

        /* Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Scroll Snap */
        .container-main {
            scroll-snap-type: y mandatory;
        }

        .hero-section {
            scroll-snap-align: start;
        }
    </style>
</head>
<body>
    <!-- Galaxy Background -->
    <div class="galaxy-bg">
        <div class="stars" id="starsContainer"></div>
    </div>

    <!-- Floating Hearts -->
    <div class="floating-hearts" id="floatingHeartsContainer"></div>

    <!-- Main Container -->
    <div class="container">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <div class="typing-text" id="typingText"></div>
            </div>
        </section>

        <!-- Story Section -->
        <section class="story-section">
            <div class="story-container">
                <div class="story-item">
                    Every moment with you feels like magic.
                </div>
                
                <div class="divider"></div>
                
                <div class="story-item">
                    With you, even ordinary days feel special üíóüòö. Thank you for being my sweetest blessing.
                </div>
                
                <div class="divider"></div>
                
                <div class="story-item">
                    ‚ú®I don‚Äôt need the whole world, as long as I have you.
                </div>
                
                <div class="divider"></div>
                
                <div class="story-item">
                    Let's dance among the stars üòâüòõ,
                    where love is the only force that mattersü´£.
                </div>
            </div>
        </section>

        <!-- Proposal Section -->
        <section class="proposal">
            <div class="proposal-box">
                <div class="proposal-question">
                    Will you be my Valentine...
                    <br><span>forever?</span>
                </div>
                <div class="button-container">
                    <button class="btn btn-yes" id="yesBtn">YES ‚ù§Ô∏è</button>
                    <button class="btn btn-no" id="noBtn">NO üíî</button>
                </div>
            </div>
        </section>
    </div>

    <!-- Final Message (Hidden) -->
    <div class="final-message" id="finalMessage">
        
    </div>

    <!-- Audio for Background Music -->
    <audio id="backgroundMusic" autoplay loop>
        <source src="lovesong.mpeg" type="audio/mpeg">
    </audio>

    <!-- Music Player Control -->
    <div id="musicPlayerControl">
        <button id="musicToggle" onclick="toggleMusic()">üéµ</button>
        <span>Love Song</span>
    </div>

    <!-- Screen Glow (Hidden) -->
    <div class="screen-glow" id="screenGlow"></div>

    <!-- Loading (Hidden) -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading love...</div>
    </div>

    <script>
        // Generate random stars
        function generateStars() {
            const starsContainer = document.getElementById('starsContainer');
            const starCount = window.innerWidth > 768 ? 150 : 80;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Generate floating hearts (reduced)
        function generateFloatingHearts() {
            const container = document.getElementById('floatingHeartsContainer');
            const hearts = ['üíû'];
            
            for (let i = 0; i < 6; i++) {
                const heart = document.createElement('div');
                heart.className = `heart heart-${(i % 3) + 1}`;
                heart.textContent = hearts[0];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(heart);
            }
        }

        // Typing effect
        function typeText() {
            const texts = [
                "‚ÄúI don‚Äôt need a special day to love you, but today I just want to say‚Ä¶ I‚Äôm so lucky to have you. Happy Valentine‚Äôs Day Bava...........üòòüíéüíéüíéüíéüíé‚ôæÔ∏è",
                
                
            ];
            
            const typingText = document.getElementById('typingText');
            let textIndex = 0;
            let charIndex = 0;

            function type() {
                if (textIndex < texts.length) {
                    if (charIndex < texts[textIndex].length) {
                        typingText.textContent += texts[textIndex].charAt(charIndex);
                        charIndex++;
                        setTimeout(type, 50);
                    } else {
                        charIndex = 0;
                        textIndex++;
                        if (textIndex < texts.length) {
                            typingText.textContent += '\n';
                            setTimeout(type, 800);
                        } else {
                            typingText.innerHTML += '<span class="typing-cursor">|</span>';
                        }
                    }
                }
            }

            type();
        }

        // Create background music context
        function createAudioContext() {
            const audioContext = new (globalThis.AudioContext || globalThis.webkitAudioContext)();
            return audioContext;
        }

        // Play heartbeat sound
        function playHeartbeat() {
            try {
                const audioContext = new (globalThis.AudioContext || globalThis.webkitAudioContext)();
                if (!audioContext) return;
                const gain = audioContext.createGain();
                
                oscillator.connect(gain);
                gain.connect(audioContext.destination);
                
                gain.gain.setValueAtTime(0.3, audioContext.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(100, audioContext.currentTime + 0.1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (error) {
                console.error(error);
            }
        }

        // YES Button Clicked
        document.getElementById('yesBtn').addEventListener('click', function() {
            playHeartbeat();
            createConfetti();
            createHeartExplosion();
            createAnimatedGIFs();
            document.getElementById('screenGlow').style.display = 'block';
            document.getElementById('finalMessage').style.display = 'block';
            setTimeout(() => {
                document.getElementById('noBtn').style.display = 'none';
                document.getElementById('yesBtn').style.display = 'none';
            }, 500);
            // Redirect to stickers page after 3 seconds
            setTimeout(() => {
                globalThis.location.href = 'stickers.html';
            }, 3000);
        });

        // NO Button Hover Effect (Runs Away)
        document.getElementById('noBtn').addEventListener('mouseover', function() {
            const randomX = (Math.random() - 0.5) * 300;
            const randomY = (Math.random() - 0.5) * 300;
            this.style.transform = `translate(${randomX}px, ${randomY}px)`;
        });

        document.getElementById('noBtn').addEventListener('click', function(e) {
            e.preventDefault();
            const randomX = (Math.random() - 0.5) * 300;
            const randomY = (Math.random() - 0.5) * 300;
            this.style.transform = `translate(${randomX}px, ${randomY}px)`;
        });

        // Create Confetti (reduced, subtle)
        function createConfetti() {
            const confettiCount = 12;
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.textContent = '¬∑';
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.top = '-10px';
                confetti.style.fontSize = Math.random() * 14 + 8 + 'px';
                
                document.body.appendChild(confetti);
                
                const duration = Math.random() * 2 + 2;
                const xDist = (Math.random() - 0.5) * 300;
                const yDist = window.innerHeight + 100;
                const rotation = Math.random() * 360;
                
                confetti.style.animation = `fall ${duration}s ease-in forwards`;
                confetti.style.setProperty('--x', xDist + 'px');
                confetti.style.setProperty('--y', yDist + 'px');
                confetti.style.setProperty('--rotation', rotation + 'deg');
                
                setTimeout(() => confetti.remove(), duration * 1000);
            }
        }

        // Add fall animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                to {
                    transform: translateY(var(--y)) translateX(var(--x)) rotate(var(--rotation));
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Create Heart Explosion (small burst)
        function createHeartExplosion() {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            
            for (let i = 0; i < 6; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-explosion';
                heart.textContent = '‚ù§';
                
                const angle = (i / 6) * Math.PI * 2;
                const velocity = 220;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                heart.style.left = centerX + 'px';
                heart.style.top = centerY + 'px';
                heart.style.setProperty('--tx', tx + 'px');
                heart.style.setProperty('--ty', ty + 'px');
                
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 1800);
            }
        }

        // Create Animated GIFs (reduced)
        function createAnimatedGIFs() {
            const gifs = [
                { emoji: 'üíë', type: 'spinning-gif' },
                { emoji: '‚ú®', type: 'floating-gif' },
                { emoji: 'üåπ', type: 'floating-gif' },
                { emoji: 'üíñ', type: 'bouncing-gif' }
            ];

            gifs.forEach((gif, index) => {
                setTimeout(() => {
                    const animatedGif = document.createElement('div');
                    animatedGif.className = `animated-gif ${gif.type}`;
                    animatedGif.textContent = gif.emoji;
                    
                    const randomX = Math.random() * window.innerWidth;
                    const randomY = Math.random() * window.innerHeight;
                    
                    animatedGif.style.left = randomX + 'px';
                    animatedGif.style.top = randomY + 'px';
                    animatedGif.style.filter = `drop-shadow(0 0 10px rgba(255, 20, 147, 0.8))`;
                    
                    document.body.appendChild(animatedGif);
                    setTimeout(() => animatedGif.remove(), 2200);
                }, index * 180); // Stagger the GIFs
            });
        }

        // Page Load Animation
        window.addEventListener('load', function() {
            document.getElementById('loading').style.display = 'none';
            generateStars();
            generateFloatingHearts();
            typeText();
            initializeAudio();
        });

        // Smooth scroll for story items visibility
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Element is now visible
                }
            });
        }, observerOptions);

        document.querySelectorAll('.story-item').forEach(item => {
            observer.observe(item);
        });

        // Mobile support for NO button
        if (globalThis.matchMedia("(max-width: 768px)").matches) {
            document.getElementById('noBtn').addEventListener('click', function(e) {
                e.preventDefault();
                const randomX = (Math.random() - 0.5) * 150;
                const randomY = (Math.random() - 0.5) * 150;
                this.style.transform = `translate(${randomX}px, ${randomY}px)`;
            });
        }

        // Initialize background music with localStorage persistence
        function initializeAudio() {
            const audio = document.getElementById('backgroundMusic');
            if (!audio) return;
            audio.src = 'lovesong.mpeg';
            audio.volume = 0.45;
            
            // Check localStorage to resume music if it was playing
            const isMusicPlaying = localStorage.getItem('musicPlaying') === 'true';
            if (isMusicPlaying) {
                audio.play().catch(() => {});
                updateMusicButton();
            }
        }

        function toggleMusic() {
            const audio = document.getElementById('backgroundMusic');
            const btn = document.getElementById('musicToggle');
            if (!audio) return;
            if (audio.paused) {
                audio.play().catch(() => {});
                localStorage.setItem('musicPlaying', 'true');
                if (btn) btn.textContent = 'üîä';
            } else {
                audio.pause();
                localStorage.setItem('musicPlaying', 'false');
                if (btn) btn.textContent = 'üîá';
            }
        }

        function updateMusicButton() {
            const audio = document.getElementById('backgroundMusic');
            const btn = document.getElementById('musicToggle');
            if (btn && audio && !audio.paused) {
                btn.textContent = 'üîä';
            } else if (btn) {
                btn.textContent = 'üîá';
            }
        }
    </script>
</body>
</html>
